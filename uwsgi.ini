[uwsgi]
# Socket and pid file location/permission.
socket = 127.0.0.1:8000
uwsgi-socket = /tmp/site.sock
chmod-socket = 666
pidfile = /tmp/site.pid
stats = /tmp/statsock

# You should create an account dedicated to running dmoj under uwsgi.
uid = hbuoj
gid = hbuoj

# Paths.
chdir = /home/hbuoj/site
pythonpath = /home/hbuoj/site
virtualenv = /home/hbuoj/site_env

# Details regarding HBUOJ application.
protocol = uwsgi
master = true
#plugins = python
env = DJANGO_SETTINGS_MODULE=dmoj.settings
module = dmoj.wsgi:application
optimize = 2

# Scaling settings. Tune as you like.
memory-report = true
cheaper-algo = backlog
cheaper = 8
cheaper-initial = 16
cheaper-step = 4
cheaper-rss-limit-soft = 201326592
cheaper-rss-limit-hard = 234881024
workers = 32

enable-threads = true